$(function(){$.widget("knowitop.selectobjecttemplate",{options:{title:"Select template",filter:"SELECT ObjectTemplate",endpoint:GetAbsoluteUrlAppRoot()+"env-production/knowitop-object-template/ajax.render.php",containerId:"KnowitopSelectTemplateDialog",singleResultCallback:function(t){},multipleResultCallback:function(t){}},_create:function(){this.id=this.options.containerId;var t=this;this.element.click(function(){t._showSelectTemplateDlg()}),0===$("#"+this.id).length&&$("body").append('<div id="'+this.id+'"></div>'),this.dialogOptions={width:"auto",height:"auto",autoOpen:!1,modal:!0,title:this.options.title,close:function(){t.element.removeAttr("disabled")}}},_showSelectTemplateDlg:function(){var i=this;if(!this.element.attr("disabled")){console.log(i.element),this.element.attr("disabled","disabled");var t={operation:"show_select_template_dlg",filter:this.options.filter,widget_id:this.id};$.post(this.options.endpoint,t,function(t){var e=$("#"+i.id);e.html(t),e.dialog(i.dialogOptions),i._searchTemplates(),e.find("#SelectTemplateForm_"+i.id).submit(function(t){return t.preventDefault(),i._selectTemplate()}),e.find("#button_submit_"+i.id).prop("disabled",!0),e.find("#count_"+i.id).change(function(){e.find("#button_submit_"+i.id).prop("disabled",!(0<this.value))}),e.find("#button_cancel_"+i.id).click(function(){e.dialog("close")}),e.dialog("open")},"html")}},_searchTemplates:function(){var t={operation:"search_template",filter:this.options.filter,widget_id:this.id},e=this;$.post(this.options.endpoint,t,function(t){$("#SearchResultsToSelect_"+e.id).html(t)},"html")},_selectTemplate:function(){var t=$("input.selectListResultsToSelect_"+this.id+":checked");if(0<t.length){var e=[],i=0;t.each(function(){e[i++]=this.value}),this.options.singleResultCallback(e[0]),this.options.multipleResultCallback(e)}var l=$("#"+this.id);l.dialog("close"),l.html("")}})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlbGVjdC1vYmplY3QtdGVtcGxhdGUtd2lkZ2V0LmpzIl0sIm5hbWVzIjpbIiQiLCJ3aWRnZXQiLCJvcHRpb25zIiwidGl0bGUiLCJmaWx0ZXIiLCJlbmRwb2ludCIsIkdldEFic29sdXRlVXJsQXBwUm9vdCIsImNvbnRhaW5lcklkIiwic2luZ2xlUmVzdWx0Q2FsbGJhY2siLCJkYXRhIiwibXVsdGlwbGVSZXN1bHRDYWxsYmFjayIsIl9jcmVhdGUiLCJ0aGlzIiwiaWQiLCJzZWxmIiwiZWxlbWVudCIsImNsaWNrIiwiX3Nob3dTZWxlY3RUZW1wbGF0ZURsZyIsImxlbmd0aCIsImFwcGVuZCIsImRpYWxvZ09wdGlvbnMiLCJ3aWR0aCIsImhlaWdodCIsImF1dG9PcGVuIiwibW9kYWwiLCJjbG9zZSIsInJlbW92ZUF0dHIiLCJhdHRyIiwiY29uc29sZSIsImxvZyIsInBvc3REYXRhIiwib3BlcmF0aW9uIiwid2lkZ2V0X2lkIiwicG9zdCIsImRsZyIsImh0bWwiLCJkaWFsb2ciLCJfc2VhcmNoVGVtcGxhdGVzIiwiZmluZCIsInN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZWxlY3RUZW1wbGF0ZSIsInByb3AiLCJjaGFuZ2UiLCJ2YWx1ZSIsInNlbGVjdGVkIiwiYVNlbGVjdGVkIiwiaW5kZXgiLCJlYWNoIl0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRSxXQUNEQSxFQUFFQyxPQUFPLGdDQUFpQyxDQUN6Q0MsUUFBUyxDQUNSQyxNQUFPLGtCQUNQQyxPQUFRLHdCQUNSQyxTQUFVQyx3QkFBMEIsMERBQ3BDQyxZQUFhLCtCQUNiQyxxQkFBc0IsU0FBVUMsS0FHaENDLHVCQUF3QixTQUFVRCxNQUtuQ0UsUUFBUyxXQUNSQyxLQUFLQyxHQUFLRCxLQUFLVixRQUFRSyxZQUN2QixJQUFJTyxFQUFPRixLQUNYQSxLQUFLRyxRQUFRQyxNQUFNLFdBQ2xCRixFQUFLRywyQkFFMEIsSUFBNUJqQixFQUFFLElBQU1ZLEtBQUtDLElBQUlLLFFBRXBCbEIsRUFBRSxRQUFRbUIsT0FBTyxZQUFjUCxLQUFLQyxHQUFLLFlBRTFDRCxLQUFLUSxjQUFnQixDQUNwQkMsTUFBTyxPQUNQQyxPQUFRLE9BQ1JDLFVBQVUsRUFDVkMsT0FBTyxFQUNQckIsTUFBT1MsS0FBS1YsUUFBUUMsTUFDcEJzQixNQUFPLFdBQ05YLEVBQUtDLFFBQVFXLFdBQVcsZUFLM0JULHVCQUF3QixXQUN2QixJQUFJSCxFQUFPRixLQUNYLElBQUlBLEtBQUtHLFFBQVFZLEtBQUssWUFBdEIsQ0FJQUMsUUFBUUMsSUFBSWYsRUFBS0MsU0FDakJILEtBQUtHLFFBQVFZLEtBQUssV0FBWSxZQUM5QixJQUFJRyxFQUFXLENBQ2RDLFVBQVcsMkJBQ1gzQixPQUFRUSxLQUFLVixRQUFRRSxPQUNyQjRCLFVBQVdwQixLQUFLQyxJQUVqQmIsRUFBRWlDLEtBQUtyQixLQUFLVixRQUFRRyxTQUFVeUIsRUFDN0IsU0FBVXJCLEdBQ1QsSUFBSXlCLEVBQU1sQyxFQUFFLElBQU1jLEVBQUtELElBQ3ZCcUIsRUFBSUMsS0FBSzFCLEdBQ1R5QixFQUFJRSxPQUFPdEIsRUFBS00sZUFDaEJOLEVBQUt1QixtQkFDTEgsRUFBSUksS0FBSyx1QkFBeUJ4QixFQUFLRCxJQUFJMEIsT0FBTyxTQUFVQyxHQUUzRCxPQURBQSxFQUFFQyxpQkFDSzNCLEVBQUs0QixvQkFFYlIsRUFBSUksS0FBSyxrQkFBb0J4QixFQUFLRCxJQUFJOEIsS0FBSyxZQUFZLEdBQ3ZEVCxFQUFJSSxLQUFLLFVBQVl4QixFQUFLRCxJQUFJK0IsT0FBTyxXQUNwQ1YsRUFBSUksS0FBSyxrQkFBb0J4QixFQUFLRCxJQUFJOEIsS0FBSyxhQUEyQixFQUFiL0IsS0FBS2lDLFVBRS9EWCxFQUFJSSxLQUFLLGtCQUFvQnhCLEVBQUtELElBQUlHLE1BQU0sV0FDM0NrQixFQUFJRSxPQUFPLFdBRVpGLEVBQUlFLE9BQU8sU0FDVCxVQUdMQyxpQkFBa0IsV0FDakIsSUFBSVAsRUFBVyxDQUNkQyxVQUFXLGtCQUNYM0IsT0FBUVEsS0FBS1YsUUFBUUUsT0FDckI0QixVQUFXcEIsS0FBS0MsSUFFYkMsRUFBT0YsS0FDWFosRUFBRWlDLEtBQUtyQixLQUFLVixRQUFRRyxTQUFVeUIsRUFDN0IsU0FBVXJCLEdBQ0NULEVBQUUsMEJBQTRCYyxFQUFLRCxJQUN6Q3NCLEtBQUsxQixJQUNQLFNBR0xpQyxnQkFBaUIsV0FDaEIsSUFBSUksRUFBVzlDLEVBQUUsbUNBQTBDWSxLQUFLQyxHQUFLLFlBQ3JFLEdBQXNCLEVBQWxCaUMsRUFBUzVCLE9BQ2IsQ0FDQyxJQUFJNkIsRUFBWSxHQUNaQyxFQUFRLEVBQ1pGLEVBQVNHLEtBQUssV0FDYkYsRUFBVUMsS0FBV3BDLEtBQUtpQyxRQUUzQmpDLEtBQUtWLFFBQVFNLHFCQUFxQnVDLEVBQVUsSUFDNUNuQyxLQUFLVixRQUFRUSx1QkFBdUJxQyxHQUVyQyxJQUFJYixFQUFNbEMsRUFBRSxJQUFNWSxLQUFLQyxJQUN2QnFCLEVBQUlFLE9BQU8sU0FDWEYsRUFBSUMsS0FBSyIsImZpbGUiOiJzZWxlY3Qtb2JqZWN0LXRlbXBsYXRlLXdpZGdldC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24gKCkge1xuXHQkLndpZGdldChcImtub3dpdG9wLnNlbGVjdG9iamVjdHRlbXBsYXRlXCIsIHtcblx0XHRvcHRpb25zOiB7XG5cdFx0XHR0aXRsZTogJ1NlbGVjdCB0ZW1wbGF0ZScsXG5cdFx0XHRmaWx0ZXI6ICdTRUxFQ1QgT2JqZWN0VGVtcGxhdGUnLFxuXHRcdFx0ZW5kcG9pbnQ6IEdldEFic29sdXRlVXJsQXBwUm9vdCgpICsgJ2Vudi1wcm9kdWN0aW9uL2tub3dpdG9wLW9iamVjdC10ZW1wbGF0ZS9hamF4LnJlbmRlci5waHAnLFxuXHRcdFx0Y29udGFpbmVySWQ6ICdLbm93aXRvcFNlbGVjdFRlbXBsYXRlRGlhbG9nJyxcblx0XHRcdHNpbmdsZVJlc3VsdENhbGxiYWNrOiBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZygnc2luZ2xlUmVzdWx0Q2FsbGJhY2sgZGF0YTogJywgZGF0YSk7XG5cdFx0XHR9LFxuXHRcdFx0bXVsdGlwbGVSZXN1bHRDYWxsYmFjazogZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJ211bHRpUmVzdWx0Q2FsbGJhY2sgZGF0YTogJywgZGF0YSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9jcmVhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuaWQgPSB0aGlzLm9wdGlvbnMuY29udGFpbmVySWQ7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR0aGlzLmVsZW1lbnQuY2xpY2soZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRzZWxmLl9zaG93U2VsZWN0VGVtcGxhdGVEbGcoKTtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKCQoJyMnICsgdGhpcy5pZCkubGVuZ3RoID09PSAwKVxuXHRcdFx0e1xuXHRcdFx0XHQkKCdib2R5JykuYXBwZW5kKCc8ZGl2IGlkPVwiJyArIHRoaXMuaWQgKyAnXCI+PC9kaXY+Jyk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmRpYWxvZ09wdGlvbnMgPSB7XG5cdFx0XHRcdHdpZHRoOiAnYXV0bycsXG5cdFx0XHRcdGhlaWdodDogJ2F1dG8nLFxuXHRcdFx0XHRhdXRvT3BlbjogZmFsc2UsXG5cdFx0XHRcdG1vZGFsOiB0cnVlLFxuXHRcdFx0XHR0aXRsZTogdGhpcy5vcHRpb25zLnRpdGxlLFxuXHRcdFx0XHRjbG9zZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHNlbGYuZWxlbWVudC5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRfc2hvd1NlbGVjdFRlbXBsYXRlRGxnOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHRpZiAodGhpcy5lbGVtZW50LmF0dHIoJ2Rpc2FibGVkJykpXG5cdFx0XHR7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUubG9nKHNlbGYuZWxlbWVudCk7XG5cdFx0XHR0aGlzLmVsZW1lbnQuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcblx0XHRcdHZhciBwb3N0RGF0YSA9IHtcblx0XHRcdFx0b3BlcmF0aW9uOiAnc2hvd19zZWxlY3RfdGVtcGxhdGVfZGxnJyxcblx0XHRcdFx0ZmlsdGVyOiB0aGlzLm9wdGlvbnMuZmlsdGVyLFxuXHRcdFx0XHR3aWRnZXRfaWQ6IHRoaXMuaWQsXG5cdFx0XHR9O1xuXHRcdFx0JC5wb3N0KHRoaXMub3B0aW9ucy5lbmRwb2ludCwgcG9zdERhdGEsXG5cdFx0XHRcdGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdFx0dmFyIGRsZyA9ICQoJyMnICsgc2VsZi5pZCk7XG5cdFx0XHRcdFx0ZGxnLmh0bWwoZGF0YSk7XG5cdFx0XHRcdFx0ZGxnLmRpYWxvZyhzZWxmLmRpYWxvZ09wdGlvbnMpO1xuXHRcdFx0XHRcdHNlbGYuX3NlYXJjaFRlbXBsYXRlcygpO1xuXHRcdFx0XHRcdGRsZy5maW5kKCcjU2VsZWN0VGVtcGxhdGVGb3JtXycgKyBzZWxmLmlkKS5zdWJtaXQoZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdHJldHVybiBzZWxmLl9zZWxlY3RUZW1wbGF0ZSgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGRsZy5maW5kKCcjYnV0dG9uX3N1Ym1pdF8nICsgc2VsZi5pZCkucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcblx0XHRcdFx0XHRkbGcuZmluZCgnI2NvdW50XycgKyBzZWxmLmlkKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0ZGxnLmZpbmQoJyNidXR0b25fc3VibWl0XycgKyBzZWxmLmlkKS5wcm9wKCdkaXNhYmxlZCcsICEodGhpcy52YWx1ZSA+IDApKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRkbGcuZmluZCgnI2J1dHRvbl9jYW5jZWxfJyArIHNlbGYuaWQpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdGRsZy5kaWFsb2coJ2Nsb3NlJyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0ZGxnLmRpYWxvZygnb3BlbicpO1xuXHRcdFx0XHR9LCAnaHRtbCcpO1xuXHRcdH0sXG5cblx0XHRfc2VhcmNoVGVtcGxhdGVzOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgcG9zdERhdGEgPSB7XG5cdFx0XHRcdG9wZXJhdGlvbjogJ3NlYXJjaF90ZW1wbGF0ZScsXG5cdFx0XHRcdGZpbHRlcjogdGhpcy5vcHRpb25zLmZpbHRlcixcblx0XHRcdFx0d2lkZ2V0X2lkOiB0aGlzLmlkLFxuXHRcdFx0fTtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdCQucG9zdCh0aGlzLm9wdGlvbnMuZW5kcG9pbnQsIHBvc3REYXRhLFxuXHRcdFx0XHRmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHRcdHZhciByZXMgPSAkKCcjU2VhcmNoUmVzdWx0c1RvU2VsZWN0XycgKyBzZWxmLmlkKTtcblx0XHRcdFx0XHRyZXMuaHRtbChkYXRhKTtcblx0XHRcdFx0fSwgJ2h0bWwnKTtcblx0XHR9LFxuXG5cdFx0X3NlbGVjdFRlbXBsYXRlOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgc2VsZWN0ZWQgPSAkKCdpbnB1dC5zZWxlY3RMaXN0JyArICdSZXN1bHRzVG9TZWxlY3RfJyArIHRoaXMuaWQgKyAnOmNoZWNrZWQnKTtcblx0XHRcdGlmIChzZWxlY3RlZC5sZW5ndGggPiAwKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgYVNlbGVjdGVkID0gW107XG5cdFx0XHRcdHZhciBpbmRleCA9IDA7XG5cdFx0XHRcdHNlbGVjdGVkLmVhY2goZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdGFTZWxlY3RlZFtpbmRleCsrXSA9IHRoaXMudmFsdWU7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHR0aGlzLm9wdGlvbnMuc2luZ2xlUmVzdWx0Q2FsbGJhY2soYVNlbGVjdGVkWzBdKTtcblx0XHRcdFx0dGhpcy5vcHRpb25zLm11bHRpcGxlUmVzdWx0Q2FsbGJhY2soYVNlbGVjdGVkKTtcblx0XHRcdH1cblx0XHRcdHZhciBkbGcgPSAkKCcjJyArIHRoaXMuaWQpO1xuXHRcdFx0ZGxnLmRpYWxvZygnY2xvc2UnKTtcblx0XHRcdGRsZy5odG1sKCcnKTtcblx0XHR9XG5cdH0pO1xufSk7Il19